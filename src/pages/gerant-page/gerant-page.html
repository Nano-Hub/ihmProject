<!--
  Generated template for the GerantPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Bons du Magasin</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<div padding>
	  <ion-segment [(ngModel)]="bonsGerant">
		<ion-segment-button value="nosBons">
		 Nos Bons
		</ion-segment-button>
		<ion-segment-button value="nouveauBon">
		  Nouveau bon
		</ion-segment-button>
	  </ion-segment>
	</div>

	<div [ngSwitch]="bonsGerant">
		<ion-list *ngSwitchCase="'nosBons'">
			<ion-searchbar (ionInput)="getNosCoupons($event)"></ion-searchbar>
			<ion-list>
				<ion-item *ngFor="let coupon of nosCoupons">
					<ion-thumbnail item-left>
						<img src="assets/img/thumbnail-totoro.png">
					</ion-thumbnail>
					<h2>{{ coupon.boutique }}</h2>
					<p>Reduction : {{ coupon.reduction }}</p>
					<button ion-button (click)="delete(coupon)" color="danger" outline icon-left item-right>
						Supprimer
					</button>
				</ion-item>
			</ion-list>
		</ion-list>

		<ion-list *ngSwitchCase="'nouveauBon'">
			 <div>
				<form (ngSubmit)="createBon()" #registerForm="ngForm">
				  <ion-row>
					<ion-col>
					  <ion-list inset>
						
						<ion-item>
							<ion-label>Réduction</ion-label>
							<ion-input type="text" name="reduction" [(ngModel)]="bon.reduction" required></ion-input>
						</ion-item>
						
						<ion-item>
							<ion-label>Date limite:</ion-label>
						</ion-item>
						
						<ion-item>
							<ion-label>Quantité limite:</ion-label>
						</ion-item>
						
					  </ion-list>
					</ion-col>
				  </ion-row>
				  
				  <ion-row>
					<ion-col>
					  <button ion-button type="submit" [disabled]="!registerForm.form.valid">Se connecter</button>
					</ion-col>
				  </ion-row>
				  
				</form>
			</div>
		</ion-list>		
	</div>
</ion-content>
